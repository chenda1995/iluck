!function(a){function e(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return a[t].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=a,e.c=i,e.p="",e(0)}([function(a,e,i){"use strict";function t(a){function e(a){if(R||A||M.pc.isTopSideNavOpen)o();else for(var e=0;e<S.length;e++){var i=S[e].topBarUrl,t=a.indexOf(i)>-1;if(t){o();break}}}function i(a){if(R||A||M.pc.isTopSideNavOpen)n();else for(var e=0;e<L.length;e++){var i=L[e].sideBarUrl,t=a.indexOf(i)>-1;if(t){n();break}}}var t=a.time.getTime()/1e3;M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp6583_6584",data:{pids:"6583,6584,21943,21944"}}).then(function(a){a.success&&"SUCCESS"==a.returnCode&&a.data[6583].list.length>0&&a.data[6584].list.length>0&&a.data[21943].list.length>0&&a.data[21944].list.length>0&&(k=a.data[6583].list[0],C=a.data[6584].list[0],S=a.data[21943].list,L=a.data[21944].list,j="false"==k.openFlag,j&&(t=parseInt(P||0)),t>k.actOpenTime&&t<k.actCloseTime&&(x=!0,t>k.actSellTime&&(y=!0),e(U),i(U)))})}function n(){var a=r(C);$("#mgj_rightbar_blank_div").css("display","none"),f.prepend(a),f.css("z-index","10000"),function(a,e){function i(e,i,r,s){e[t](o+i,"wheel"==n?r:function(e){!e&&(e=a.event);var i={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaY:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/40*e.wheelDeltaX)):i.deltaY=e.detail,r(i)},s||!1)}var t,n,o="";a.addEventListener?t="addEventListener":(t="attachEvent",o="on"),n="onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll",a.addWheelListener=function(a,e,t){i(a,n,e,t),"DOMMouseScroll"==n&&i(a,"MozMousePixelScroll",e,t)}}(window,document);var e={goTop:f.find(".mgj-back2top"),sidebar:f,sidebarCart:f.find(".mgj-my-cart"),eleBtn:$(".mgj_rightbar").find(".actnav_box"),eleBack:$(".mgj_actnav_box .ele_header_cont i"),eleBox:$(".mgj_actnav_box"),sidebarShow:!1,isLogin:!1,contentIds:"2603,2426,2421,2427,38726",redContentAdd:!1,fullReturnAdd:!1,shopCouponAdd:!1,redGoodsId:"",campaignId:"",goodShopId:"",mainUrl:"",redpayDetail:"",fullreturnDetail:"",userInfo:{uuid:"",avatar:""},init:function(){var a=this;a.goTop.length&&(a.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap"),a.offsetEl.length&&(a.win=$(window),a.setSidebarPos(),a.redGoodsId=k.goodsLikeId,a.campaignId=k.redKey,a.redpayDetail=k.redpayDetail,a.fullreturnDetail=k.fullreturnDetail,a.goodShopId=k.goodShopId,a.rulePageUrl=k.link,M.getUUID().then(function(e){a.userInfo.uuid=e}),a.getActContentMait(),M.getUserInfo().then(function(e){M.log(e),a.isLogin=!0,a.userInfo.avatar=e.avatar,a.addEvent()})["catch"](function(){a.isLogin=!1,a.addEvent()})))},getActContentMait:function(){var a=this;M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp2603_2426_2421_2427_38726",data:{pids:a.contentIds}}).then(function(e){e.success&&"SUCCESS"==e.returnCode?($("#enterArea").html(s({data:e.data})),$(".shop-top-enter-area").html(d({data:e.data})),a.mainUrl=e.data[2426].list[0].link,$(".J_act_main_link").attr("href",a.mainUrl),$(".J_act_rule_link").attr("href",a.rulePageUrl)):$("#enterArea .ele_loading_text").show()})["catch"](function(){$("#enterArea .ele_loading_text").show()})},guessLike:function(){var a=this,e={pid:a.redGoodsId,pageSize:60,plat:"pc",uuid:a.userInfo.uuid};a.isLogin&&a.userInfo.uid&&(e.uidE=a.userInfo.uid),M.http.jsonp({url:z.guessLikeUrl,data:e}).then(function(a){if(a.success&&"SUCCESS"==a.returnCode&&a.data.list.length>0){for(var e=a.data.list,i=[],t=[],n=[],o={isFormal:y,list:e},r=0;r<e.length;r++){var s=e[r].image;e[r].price=Math.floor(e[r].price),s.indexOf(".jpg")>0&&s.indexOf(".jpg_")<0&&(e[r].image+="_160x999.jpg")}$("#act_goods_like_box").html(l(o));for(var r=0;r<e.length;r++)i.push(e[r].item_id),t.push(r),n.push(e[r].acm);u._pushLog({eventid:70500,iids:i,indexs:t,acms:n},70500)}else $("#act_goods_like_box .ele_loading_text").show()})["catch"](function(){$("#act_goods_like_box .ele_loading_text").show()})},getRedContent:function(){function a(){if(i.redContentAdd)return!1;i.redContentAdd=!0;var a={isLogin:i.isLogin,mainUrl:i.mainUrl,hasRedpay:!1,price:0,link:""};i.isLogin?M.http.jsonp({url:z.redpayUrl,data:{campaignId:i.campaignId}}).then(function(e){if("SUCCESS"==e.returnCode){var t=e.data.num;+t?(a.hasRedpay=!0,a.price=(t/100).toFixed(2),a.link=i.redpayDetail):(a.hasRedpay=!1,a.price=0)}else 1004!=e.returnCode&&4004!=e.returnCode||(a.hasRedpay=!1);$("#redpayArea").html(c(a))}):$("#redpayArea").html(c(a))}function e(){if(i.fullReturnAdd)return!1;i.fullReturnAdd=!0;var a={price:0,isLogin:!1,hasFullReturn:!1,mainUrl:i.mainUrl,link:i.fullreturnDetail};M.http.jsonp({url:z.fullReturnUrl}).then(function(e){if("SUCCESS"==e.returnCode){var i=e.data.totalAmout;i>0?(a.isLogin=!0,a.hasFullReturn=!0,a.price=(i/100).toFixed(2)):(a.isLogin=!0,a.hasFullReturn=!1)}else 16e4==e.returnCode?(a.isLogin=!0,a.hasFullReturn=!1):"1002"==e.returnCode&&(a.isLogin=!1,a.hasFullReturn=!1);$("#fullReturnArea").html(h(a))})}var i=this,t=$(".redpay_pre_header"),n=$(".redpay_header");a(),y&&w&&(t.removeClass("show").addClass("hide"),n.removeClass("hide").addClass("show"),e()),i.guessLike()},getShopContent:function(){function a(){return i.shopCouponAdd?!1:(i.shopCouponAdd=!0,void M.http.jsonp({url:z.shopCouponUrl}).then(function(a){if(a&&1001==a.returnCode&&a.data&&a.data.couponList&&a.data.couponList.length>0){for(var e=a.data.couponList,i=[],t={isFormal:y,list:e,link:a.data.moreUrl},n=0;n<e.length;n++){var o=e[n].recommendItemCover,r=e[n].cutPrice,s=e[n].limitPrice;o.indexOf(".jpg")>0&&o.indexOf(".jpg_")<0&&(e[n].recommendItemCover+="_160x999.jpg"),e[n].cutPrice=r/100,e[n].limitPrice=s/100}$("#act-shop-coupon-box").html(v(t));for(var n=0;n<e.length;n++)i.push(n);u._pushLog({eventid:70500,indexs:i},70500)}else $("#act-shop-coupon-box .ele_body_loading").hide()})["catch"](function(){$("#act-shop-coupon-box .ele_body_loading").hide()}))}function e(){M.http.jsonp({url:z.goodShopUrl,data:{pid:i.goodShopId,uuid:i.userInfo.uuid}}).then(function(a){if(a.success&&"SUCCESS"==a.returnCode&&a.data.list.length>0){for(var e=a.data,i=e.list,t=[],n=[],o=[],r={isFormal:y,list:i},s=0;s<i.length;s++){var d=i[s].list[0].image;d.indexOf(".jpg")>0&&d.indexOf(".jpg_")<0&&(i[s].list[0].image+="_160x999.jpg")}$("#act-good-shop-box").html(g(r));for(var s=0;s<i.length;s++)t.push(i[s].shop_id),n.push(s),o.push(i[s].acm);u._pushLog({eventid:70500,iids:t,indexs:n,acms:o},70500)}else $("#act-good-shop-box .ele_loading_text").show()})["catch"](function(){$("#act-good-shop-box .ele_loading_text").show()})}var i=this;a(),e()},addEvent:function(){var a=this,e=$("#showRuleBtn"),i=$("#showRuleFullReturnBtn"),t=$("#ruleArea"),n=$("#ruleFullReturnArea");if(this.win.on("resize",function(e){a.setSidebarPos()}),this.sidebarCart.off().on("mouseenter",function(){a.win.width()>b||a.sidebarShow||a.showSidebar()}),this.sidebar.off().on("mouseleave",function(){a.win.width()>b||a.sidebarShow||a.hideSidebar()}),this.eleBtn.on("click",".actnav_mainin",function(){$(this).hasClass("act_nav_tab_on")||a.changeSiderbarContent(1)}),this.eleBtn.on("click",".actnav_favor",function(){$(this).hasClass("act_nav_tab_on")||(a.changeSiderbarContent(0),a.guessLike())}),$("body").on("click",function(e){var i=$(e.target);i[0]!=f[0]&&0==f.find(i).length&&a.sidebarShow&&(a.hideSidePanel(),a.hideSidebar())}),a.eleBox.on("click",".ele_header_cont i",function(){a.sidebarShow&&(a.hideSidePanel(),a.hideSidebar())}),e.add(t).on("mouseenter",function(){t.addClass("show")}),e.add(t).on("mouseleave",function(){t.removeClass("show")}),i.add(n).on("mouseenter",function(){n.addClass("show")}),i.add(n).on("mouseleave",function(){n.removeClass("show")}),y){var o=$(".redpay_item"),r=$(".fullreturn_item"),s=$(".redpay-user-box"),d=$(".fullreturn-user-box"),l=$(".hover_line");o.on("click",function(){s.removeClass("hide").addClass("show"),d.removeClass("show").addClass("hide"),l.animate({left:"24px"})}),r.on("click",function(){s.removeClass("show").addClass("hide"),d.removeClass("hide").addClass("show"),l.animate({left:"136px"})})}addWheelListener(a.eleBox[0],function(e){var i=60;-1!=navigator.appVersion.indexOf("Mac")&&(i=10),0!=e.deltaY&&(a.eleBox[0].scrollTop+=e.deltaY>0?i:-i),e.preventDefault()}),a.isLogin||f.on("click","#goLogin",function(a){var e="//portal.mogujie.com/user/login?refer="+B;a.preventDefault(),window.location=e})},setSidebarPos:function(){var a=(this.offsetEl.offset(),this.offsetEl.outerWidth(),this.win.width());b>a?this.hideSidebar():this.showSidebar(),this.hideSidePanel()},showSidePanel:function(){this.sidebar.stop().animate({right:"270px"}),this.eleBox.stop().animate({right:"0px"}),this.sidebarShow=!0},hideSidePanel:function(){this.eleBox.stop().animate({right:"-270px"}),this.sidebarShow=!1,this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on")},changeSiderbarContent:function(a){this.eleBtn.find(".act_nav_tab").removeClass("act_nav_tab_on"),1==a?($(".body_enter").show().siblings().hide(),this.eleBtn.find(".actnav_mainin").addClass("act_nav_tab_on")):0==a&&($(".body_favor").show().siblings().hide(),this.eleBtn.find(".actnav_favor").addClass("act_nav_tab_on")),this.showSidePanel()},showSidebar:function(){this.sidebarCart.stop().animate({left:"0px"}),this.goTop.stop().animate({left:"0px"}),this.sidebar.removeClass("mini").stop().animate({right:"0px"})},hideSidebar:function(){var a,e=-95,i=0;a=this.win.width()<b?e:i,this.sidebarCart.stop().animate({left:a}),this.goTop.stop().animate({left:a}),this.sidebar.addClass("mini").stop().animate({right:a})}};e.init()}function o(){var a=$('<div class="promotionTopBarContainer"></div>');$("#header").before(a),M.http.jsonp({url:z.maitUrl,jsonpCallback:"jsonp22149_22450",data:{pids:"22149,22450"}}).then(function(e){if("SUCCESS"==e.returnCode&&e.success){var i=e.data[22149].list,t=e.data[22450].list[0];if(!(e&&e.data&&i.length>0&&t))return;a.css("backgroundColor",t.bg_nav_color);var n=!!$("body").hasClass("media_screen_1200"),o=p(i);a.html(o);var r=a.find(".innerwrap"),s=new Image,d="";if(n?(d=t.image_big,s.src=d):(d=t.image_small,s.src=d),s.complete)return r.css("background-image","url("+s.src+")"),void a.animate({"margin-top":"0"});s.onload=function(){r.css("background-image","url("+s.src+")"),a.animate({"margin-top":"0"})}}})}i(1);var r=i(3),s=i(4),d=i(5),l=i(6),c=i(7),v=i(8),g=i(9),h=i(10),p=i(11),u={};u._pushLog=function(a,e){setTimeout(function(){if(window.logger&&logger.log)try{logger.log(e,a)}catch(i){M.log(i)}else if(window.detePtp&&detePtp.logFromtSend){var t=window.detePtp._collectParams||{};a.ptp_cnt=t.ptp_cnt||"",a.ptp_url=t.ptp_url||"",a.ptp_ref=t.ptp_ref||"";try{detePtp.logFromtSend("e",e,a)}catch(i){M.log(i)}}},1e3)};var _=M.ua,m=_.ie67,b=1260,f=$(".mgj_rightbar"),x=!1,y=!1,j=0,w=0,k={},C={},S="",L="",U=location.href.split("?")[0],B=location.href,P=M.fn.getQueryString("_act_set_time",B),R=!1,I=$("#shopBaseUrlSec");I.length>0&&(R=location.host==I.val().split("/")[2]||"shop.mogujie.com"==location.host);var A="http://www.mogujie.com/"===U||"http://www.mogujie.com"===U||"http://www.mogujie.com/index"===U;M.pc.isTopSideNavOpen=!1;var z={maitUrl:"//mce.mogucdn.com/jsonp/multiget/3",redpayUrl:"//promotion.mogujie.com/jsonp/getRedPacket/1",fullReturnUrl:"//hongbao.mogujie.com/jsonp/hongbaoAmount/1",guessLikeUrl:"//mce.mogujie.com/jsonp/get/3",shopCouponUrl:"//www.mogujie.com/mbractivity/myshopcoupon.jsonp",goodShopUrl:"//mce.mogujie.com/jsonp/recommend/4"};P&&(z.maitUrl="//mce.mogujie.com/jsonp/multiget/3?time="+P),m||M.getServerTime().then(function(a){t(a)})},function(a,e){},,function(a,e){a.exports=function(a){var e='<!-- \u4ec5\u6709\u6837\u5f0f\u7684\u60c5\u51b5\uff0c\u901a\u8fc7\u5176\u4ed6tpl\u52a0\u5165\u6570\u636e --><!--\u7a7a\u7684\u53f3\u4fa7\u8fb9\u680f--><div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div><!--\u65b9\u4fbf\u5b9amargin\u7684\u7a7adiv-->';return a||(e+='<div id="mgj_rightbar_blank_div"></div>'),e+="<!--1111\u5927\u4fc3\u4fa7\u8fb9\u5bfc\u822a-->",a&&(e+=" <!-- \u9ea6\u7530\u83b7\u53d6\u6837\u5f0f --> <style>  .mgj_rightbar .mgj-my-actnavin .actnav_box .main_link, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule, .mgj_rightbar .mgj-my-actnavin .actnav_box .bot_bg { background-image: url("+a.barHeadBg+"); background-repeat: no-repeat; }  .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_mainin.act_nav_tab_on { background: url("+a.pageTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_my.act_nav_tab_on { background: url("+a.redTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_shop.act_nav_tab_on { background: url("+a.shopTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_favor.act_nav_tab_on { background: url("+a.favorTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule:hover, .mgj_rightbar .mgj-my-actnavin .actnav_box .actnav_rule.act_nav_tab_on { background: url("+a.ruleTabLight+") no-repeat; } .mgj_rightbar .mgj-my-actnavin .actnav_box .act_nav_tab_on { width: 110px; }  .mgj_actnav_box .actnavBox_header  { background: url("+a.pageHead+") no-repeat; } .mgj_actnav_box .redpay_pre_header { background: url("+a.redHead+") no-repeat; } .mgj_actnav_box .redpay_header { background: url("+a.redFormalHead+") no-repeat; } .mgj_actnav_box .shop_header { background: url("+a.shopHead+") no-repeat; } .mgj_actnav_box .favor_header { background: url("+a.favorHead+") no-repeat; }   .mgj_actnav_box .actnavBox_body .body_main .body_main_item { background: url("+a.oneM+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_item { background: url("+a.twoM+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_main .body_main_item:hover { background: url("+a.oneL+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_item:hover { background: url("+a.twoL+") no-repeat; } .mgj_actnav_box .actnavBox_body .body_centre .body_centre_title { background: url("+a.twoTitle+") no-repeat; }  .mgj_rightbar .act-like-goods-area .gap .title { background: url("+a.gTitle+") no-repeat; } .mgj_rightbar .act-like-goods-area span.price-tag { background: url("+a.gp+") no-repeat; } .mgj_rightbar .act-like-goods-area .redpay-use .hb-img { background: url("+a.gr+') no-repeat 0 2px; } </style> <!-- \u5de6\u4fa7\u5bfc\u822a\u56fe\u7247 --> <div class="img_pre_hide" style="height: 0;width: 0;overflow: hidden;"> <img src="'+a.pageTabLight+'" alt=""> <img src="'+a.redTabLight+'" alt=""> <img src="'+a.shopTabLight+'" alt=""> </div> <!-- \u4fa7\u8fb9\u6761 --> <div class="mgj-my-actnavin"> <div class="actnav_box"> <!-- \u8fdb\u5165\u4e3b\u4f1a\u573a --> <a class="main_link J_act_main_link" target="_blank" href="javascript:;"></a> <!-- \u4f1a\u573a\u5bfc\u822a --> <a class="actnav_mainin act_nav_tab" href="javascript:void(0)" rel="nofollow"></a> <!-- \u6211\u7684\u7ea2\u5305 --> <!--<a class="actnav_my act_nav_tab" href="javascript:void(0)" rel="nofollow"></a>--> <!-- \u5e97\u94fa\u4f18\u60e0 --> <!--<a class="actnav_shop act_nav_tab" href="javascript:void(0)" rel="nofollow"></a>--> <!-- \u731c\u4f60\u559c\u6b22 --> <a class="actnav_favor act_nav_tab" href="javascript:void(0)" rel="nofollow"></a> <!-- 321\u89c4\u5219 --> <a class="actnav_rule act_nav_tab J_act_rule_link" target="_blank" href="javascript:;"></a> <!-- \u5e95\u90e8\u56fe\u7247 --> <div class="bot_bg"></div> </div> </div> <!-- \u4fa7\u8fb9\u4e3b\u4f53 --> <div class="mgj_actnav_box"> <!-- \u4f1a\u573a\u5bfc\u822a --> <div class="body_enter"> <!-- \u9876\u90e8\u56fe\u7247 --> <div class="actnavBox_header"> <div class="ele_header_cont"> <i></i> </div> </div> <!-- \u672a\u83b7\u53d6\u5230\u6570\u636e\u65f6\u5360\u4f4d --> <div class="actnavBox_body"> <div id="enterArea">  <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div> <!-- \u7ea2\u5305\u9875 --> <!--<div class="body_redpay" > &lt;!&ndash; \u53ea\u6709\u7ea2\u5305\u60c5\u51b5\u5934\u90e8 &ndash;&gt; <div class="actnavBox_header redpay_pre_header show"> <div class="ele_header_cont"> <i></i> </div> </div> &lt;!&ndash; \u6709\u7ea2\u5305\u548c\u6ee1\u8fd4\u60c5\u51b5\u5934\u90e8 &ndash;&gt; <div class="actnavBox_header redpay_header hide"> <div class="ele_header_cont"> <i></i> <div class="redpay_item"></div> <div class="fullreturn_item"></div>  <div class="hover_line"></div> </div> </div> <div class="actnavBox_body"> &lt;!&ndash; \u7ea2\u5305\u4fe1\u606f &ndash;&gt; <div class="redpay-user-box show"> <div class="redpay-desc"> <div class="go-rule" > <span class="show-rule-btn" id="showRuleBtn"> <img src="https://s10.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png"> \u4f7f\u7528\u89c4\u5219 </span> </div> <div id="redpayArea"></div> </div> <div class="redpay-rule-box" id="ruleArea"> <div class="popver-trangle"> <img src="https://s10.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"> </div> <div class="popver-body "> <div class="popver-title">XXXXXXXXX</div> <div class="popver-content" id="ruleContent"> </div>  </div> </div> </div> &lt;!&ndash; \u6ee1\u8fd4 &ndash;&gt; <div class="fullreturn-user-box hide"> <div class="fullreturn-desc"> <div class="go-full-return-rule" > <span class="show-full-return-rule-btn" id="showRuleFullReturnBtn"> <img src="https://s10.mogucdn.com/p1/160301/upload_ie3weyjwgazgmnzqg4zdambqgayde_16x16.png"> \u6ee1\u8fd4\u6d3b\u52a8\u89c4\u5219 </span> </div> <div id="fullReturnArea"></div> </div> <div class="fullreturn-rule-box" id="ruleFullReturnArea"> <div class="popver-trangle"> <img src="https://s10.mogucdn.com/p1/160304/upload_ie3tan3ggiydknzrg4zdambqgayde_34x16.png"> </div> <div class="popver-body "> <div class="popver-title">XXXXXXXXX</div> <div class="popver-content" id="ruleFullReturnContent"> </div>  </div> </div> </div> &lt;!&ndash; \u731c\u4f60\u559c\u6b22 &ndash;&gt; <div id="act_goods_like_box">  <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div>  </div>  </div>--> <!-- \u5e97\u94fa\u4f18\u60e0 --> <!--<div class="body_shop"> <div class="actnavBox_header shop_header"> <div class="ele_header_cont"> <i></i> </div> </div> <div class="actnavBox_body"> &lt;!&ndash; \u6211\u7684\u5e97\u94fa\u5238 &ndash;&gt; <div id="act-shop-coupon-box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> &lt;!&ndash; \u597d\u5e97\u63a8\u8350 &ndash;&gt; <div id="act-good-shop-box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div>--> <!-- \u731c\u4f60\u559c\u6b22 --> <div class="body_favor" > <div class="actnavBox_header favor_header"> <div class="ele_header_cont"> <i></i> </div> </div> <div class="actnavBox_body"> <div class="shop-top-enter-area"> </div> <!-- \u731c\u4f60\u559c\u6b22 --> <div id="act_goods_like_box"> <div class="ele_body_loading"> <img src="https://s10.mogucdn.com/mlcdn/c45406/170605_68beed891hedb47j43l093ka1f8j3_26x26.gif"> <div class="ele_loading_text">\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b</div> </div> </div> </div> </div> </div>'),e}},function(a,e){a.exports=function(a){var e="<!-- \u4f1a\u573a\u5bfc\u822a -->";if(a){e+='<!-- \u5168\u90e8\u4f1a\u573a --> <!-- \u6b63\u5f0fbody\u5f00\u59cb --> <div class="body_main clearfix"> <!-- \u4e3b\u4f1a\u573a --> ';var i=a.data[2426].list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="body_main_header" href="'+t.link+'" target="_blank"> <img src="'+t.image+'"> </a> ';e+=" <!-- \u4e00\u7ea7\u4f1a\u573a --> ";var r=a.data[2421].list;if(r)for(var t,s=-1,d=r.length-1;d>s;)t=r[s+=1],e+=' <a class="body_main_item yahei fl" href="'+t.link+'" target="_blank">'+t.title+"</a> ";e+=' </div> <div class="body_centre clearfix"> <div class="body_centre_title"></div> <!-- \u4e8c\u7ea7\u4f1a\u573a --> ';var l=a.data[2427].list;if(l)for(var t,c=-1,v=l.length-1;v>c;)t=l[c+=1],e+=' <a class="body_centre_item yahei fl" href="'+t.link+'" target="_blank">'+t.title+"</a> ";e+=" </div>"}return e}},function(a,e){a.exports=function(a){var e="<!-- \u529b\u8350\u597d\u5e97\u5165\u53e3 -->";if(a){e+='<div class="body_top_shop clearfix"> ';var i=a.data[38726].list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="top_shop_enter" href="'+t.link+'" target="_blank"> <img src="'+t.image+'"> </a> ';e+="</div>"}return e}},function(a,e){a.exports=function(a){var e="<!-- \u731c\u4f60\u559c\u6b22 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-like-goods-area"> <div class="gap"> <div class="title"></div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <div class="like-goods-list" data-iid="'+t.item_id+'">  <div class="like-goods-item clearfix">  <div class="left-img"> <a href="'+t.item_url+'" data-ext-acm="'+t.acm+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.image+'" alt=""> </a> </div>  <div class="right-info fl"> <a href="'+t.item_url+'" data-ext-acm="'+t.acm+'" target="_blank"> <div class="name single-line yahei">'+t.title+'</div> <div class="price-area single-line"> <span class="price-tag fl"></span> <span class="price yahei fl">\xa5'+(t.discountPrice||t.price)+'</span> <span class="old-price yahei fl">\xa5'+t.price+'</span> </div> <div class="redpay-use single-line clearfix"> <!--<span class="hb-img fl"></span> <span class="hb-price fl">',e+=t.hbPrice?"\u7ea2\u5305\u6700\u9ad8\u518d\u62b5\uffe5"+t.hbPrice:"\u7528\u7ea2\u5305\u66f4\u5212\u7b97",e+="</span>--> </div> <div> ",e+=a.isFormal?' <div class="btn add-shopcar yahei">\u7acb\u5373\u8d2d\u4e70</div> ':' <div class="btn add-shopcar yahei">\u52a0\u5165\u8d2d\u7269\u8f66</div> ',e+=" </div> </a> </div>  </div> </div> ";e+="  </div> </div> "}return e}},function(a,e){a.exports=function(a){var e="<!-- \u7ea2\u5305\u4fe1\u606f -->";return a&&(e+=" ",e+=a.isLogin?a.hasRedpay?' <div class="sidebar_tip gray999">\u7ea2\u5305\u603b\u8ba1\uff08\u5143\uff09</div> <div class="redpay-num">'+a.price+'</div> <div class="sidebar_tip gray666">\uff08\u53ef\u4e0e\u5e97\u94fa\u5238\u3001\u5e73\u53f0\u5238\u53e0\u52a0\uff09</div> <a href="'+a.link+'" class="redpay-btn" style="background-image:none;" target="_blank">\u67e5\u770b\u7ea2\u5305\u660e\u7ec6</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u7ea2\u5305\u54e6<br/>\u5feb\u53bb\u4e3b\u4f1a\u573a\u8d62\u53d6\u7ea2\u5305\u5427</div> <a href="'+a.mainUrl+'" class="redpay-btn" target="_blank">\u53bb\u4e3b\u4f1a\u573a</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55</div> <a href="javascript:void(0);" class="redpay-btn" id="goLogin">\u7acb\u5373\u767b\u5f55</a> '),e}},function(a,e){a.exports=function(a){var e="<!-- \u6211\u7684\u5e97\u94fa\u4f18\u60e0\u5238 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-shop-coupon-area"> <div class="gap"> <div class="title">\u6211\u7684\u5e97\u94fa\u5238</div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=" ",3>n&&(e+=' <div class="shop-coupon-list">                 <div class="shop-coupon-item clearfix"> <!-- \u5de6\u4fa7\u56fe\u7247 --> <div class="left-img"> <a href="'+t.shopUrl+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.recommendItemCover+'" alt=""> </a> </div> <!-- \u53f3\u4fa7\u4fe1\u606f --> <div class="right-info fl"> <a href="'+t.shopUrl+'" target="_blank"> <div class="name yahei">'+t.shopName+'</div> <div class="line">----------------------</div> <div class="coupon-area"> <div class="cutPrice" ><b class="yahei">&yen;</b>'+(t.cutPrice||0)+'</div> <div class="limitPrice yahei">\u6ee1'+t.limitPrice+'\u5143\u4f7f\u7528</div> </div> <div> <div class="btn go-shopping yahei">\u53bb\u901b\u5e97</div> </div> </a> </div>  </div> </div> '),e+=" ";e+=' <!-- \u67e5\u770b\u66f4\u591a --> <a href="'+a.link+'" class="check-more yahei" target="_blank">\u67e5\u770b\u66f4\u591a<span class="logo"></span></a> </div> </div> '}return e}},function(a,e){a.exports=function(a){var e="<!-- \u597d\u5e97\u63a8\u8350 -->";if(a&&(e+=" ",a.list)){e+=' <div class="act-good-shop-area"> <div class="gap"> <div class="title">\u597d\u5e97\u63a8\u8350</div> ';var i=a.list;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=" ",3>n&&(e+=' <div class="good-shop-list" >                 <div class="good-shop-item clearfix"> <!-- \u5de6\u4fa7\u56fe\u7247 --> <div class="left-img"> <a href="'+t.shop_url+'" data-ext-acm="'+t.acm+'" class="loading_bg_90 img-wrap"  target="_blank"> <img src="'+t.list[0].image+'" alt=""> </a> </div> <!-- \u53f3\u4fa7\u4fe1\u606f --> <div class="right-info fl"> <a href="'+t.shop_url+'" data-ext-acm="'+t.acm+'" target="_blank"> <div class="name yahei">'+t.shopName+'</div> <div class="line">----------------------</div> <div class="coupon-area"> <div class="cutPrice"><b class="yahei">&yen;</b>'+(t.cutPrice||0)+'</div> <div class="limitPrice yahei">\u6ee1'+t.limitPrice+'\u5143\u4f7f\u7528</div> </div> <div> <div class="btn go-shopping yahei">\u53bb\u901b\u5e97</div> </div> </a> </div> </div> </div> '),e+=" ";e+="  </div> </div> "}return e}},function(a,e){a.exports=function(a){var e="<!-- \u6ee1\u8fd4 -->";return a&&(e+=" ",e+=a.isLogin?a.hasFullReturn?' <div class="sidebar_tip gray999">\u91d1\u989d\u603b\u8ba1\uff08\u5143\uff09</div> <div class="fullreturn-num">'+a.price+'</div> <div class="sidebar_tip gray666">(\u53ef\u5728\u6536\u94f6\u53f0\u62b5\u6263\u4ed8\u6b3e\u91d1\u989d  )</div> <a href="'+a.link+'" class="fullreturn-btn" style="background-image:none;" target="_blank">\u67e5\u770b\u660e\u7ec6</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tomzqgq4wcnzqg4zdambqgqyde_31x39.jpg"> <div class="sidebar_tip gray666">\u60a8\u7684\u6ee1\u8fd4\u4f59\u989d\u4e3a\u96f6\uff0c<br/>\u5355\u7b14\u5b9e\u4ed8\u6ee1\u767e\u5373\u8fd4\uff01</div> <a href="'+a.mainUrl+'" class="fullreturn-btn" target="_blank">\u53bb\u8d2d\u7269</a> ':' <img class="main-img" src="https://s10.mogucdn.com/p1/160301/upload_ie4tsnjwgjtdonzqg4zdambqgqyde_38x38.png"> <div class="sidebar_tip gray666">\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55</div> <a href="javascript:void(0);" class="fullreturn-btn" id="goLogin">\u7acb\u5373\u767b\u5f55</a> '),e}},function(a,e){a.exports=function(a){var e='<!-- \u9876\u901a --><div class="wrap"> <div class="innerwrap clearfix"> ',i=a;if(i)for(var t,n=-1,o=i.length-1;o>n;)t=i[n+=1],e+=' <a class="fl ',0===n?e+="first reset":n===a.length-1&&(e+="last"),e+='" href="'+(t.link||"javascript:;")+'" target="_blank"></a> ';return e+=" </div></div>"}}]);!function(e){function o(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}var i={};o.m=e,o.c=i,o.p="",o(0)}([function(e,o,i){var t=i(1),n=(Date.now,function(e){this.opts=$.extend({},this.defaults,e),this.scrollIndTime=t.is_ie_old?400:200,this.fistCheck=!1,this.imgErrorClock={},this.logInfo={type:t.loadType,protocol:t.protocol,num:0,succ:0,err:0,domainInfo:{}},this.logTimer=0,this.init()});n.prototype={init:function(){var e=this,o=0;$(window).scroll(function(i){clearTimeout(o),o=setTimeout(function(){e.checkImages()},e.scrollIndTime)}),setTimeout(function(){t.checkNeedCdnBanlance(),e.fistCheck=!0,e.checkImages()},0),_imgLog(e.logInfo),e.logTimer=setTimeout(e.pubInfoLog.bind(e),3e3)},getInActiveFlag:function(e,o){var i,t,n,a,r=o[0],d=r.getBoundingClientRect&&r.getBoundingClientRect();d?(i=d.top+e.scrollTop,t=d.bottom+e.scrollTop,n=d.left,a=d.right):(i=o.offset().top,t=i+o.height(),n=o.offset().left,a=n+o.width());var l=t>e.top&&i<e.bot,s=a>e.left&&n<e.right;return!(!l||!s)&&!("none"==o.css("display")||"hidden"==o.css("visibility")||0==o.css("opacity")||!o[0].offsetWidth)},checkModRow:function(e){var o=this;return $(".mod_row").each(function(i,t){var n=$(t);o.getInActiveFlag(e,n)?n.addClass("J_mod_row_show"):n.removeClass("J_mod_row_show")}),$(".J_mod_row_show")},checkImages:function(e){var o=this;if(o.fistCheck){var i=document.documentElement.scrollTop||document.body.scrollTop,n=o.opts.showDistance,a={};a.top=i-n,a.bot=i+(t.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)+n,a.left=0,a.right=t.clientWidth,a.scrollTop=i;var r=$("body");e?r=e:window.MOGU_MF_DEVELOP_ENV&&$(".mod_row").length>0&&(r=o.checkModRow(a)),setTimeout(function(){for(var e=r.hasClass(o.opts.objsClassName)?r:r.find("."+o.opts.objsClassName),i=e.length,t=0;t<i;t++){var n=e.eq(t);if(n.attr("img-src")){var d=n.hasClass("J_loading_success"),l=n.hasClass("J_loading"),s=n.attr("need-remove")?n.attr("need-remove"):"no";if(!d||"yes"==s){if(o.getInActiveFlag(a,n))d||l||o.getLoadImage(n);else if("yes"==s&&(d||l))if(n.removeClass("J_loading"),n.removeClass("J_loading_success"),"background"==n.attr("insert-model"))n[0].style.backgroundImage="none";else{var g=n.find(".J_dynamic_img");g.remove()}}}}},0)}},preloadImages:function(e){var o=this;setTimeout(function(){if(e&&e.length&&e.hasClass&&e.find)for(var i=e.hasClass(o.opts.objsClassName)?e:e.find("."+o.opts.objsClassName),t=i.length,n=0;n<t;n++){var a=i.eq(n);if(a.attr("img-src")){var r=a.hasClass("J_loading_success"),d=a.hasClass("J_loading");r||d||(a.attr("need-remove","no"),o.getLoadImage(a))}}},0)},getLoadImage:function(e){var o=this;if(!e.hasClass("J_loading")){var i=e.attr("img-src"),n={type:t.loadType,protocol:t.protocol,domain:"",boxId:e.attr("id")?e.attr("id"):i,loadNum:0,suffixUrl:i,finalUrl:i,imgUrl:i,width:e.attr("suffix-width")?e.attr("suffix-width"):e.width(),ratio:e.attr("suffix-ratio"),imgCode:e.attr("suffix-code"),model:e.attr("suffix-model"),useWebp:"no"!=e.attr("use-webp"),insert:e.attr("insert-model")};(e.hasClass("full-width-wrap")||"no"==n.width)&&(n.width=9999),n.imgCode?n.suffixUrl=t.getCodeSuffix(n.imgUrl,n.imgCode,n.useWebp):!n.ratio||"1:1"!=n.ratio&&"7:9"!=n.ratio&&"3:4"!=n.ratio&&"2:3"!=n.ratio?"orig_narrow"==n.model?n.suffixUrl=t.getHalfSuffix(n.imgUrl,n.useWebp):n.suffixUrl=t.getWidthSuffix(n.imgUrl,n.width,n.useWebp):n.suffixUrl=t.getGoodsRatioSuffix(n.imgUrl,n.width,n.ratio,n.useWebp),n.finalUrl=t.getCdnBanlanceUrl(n.suffixUrl),n.domain=o.getImageDomain(n.finalUrl),o.loadingImage(e,n)}},loadingImage:function(e,o){var i=this;e.addClass("J_loading");var n=o.finalUrl;if(!(i.imgErrorClock[o.imgUrl]>=4)){var a=new Image;a.src=n,a.complete?i.insertImg(a,e,o):(a.onload=function(){i.insertImg(a,e,o)},a.onerror=function(){i.imgErrorClock[o.imgUrl]?i.imgErrorClock[o.imgUrl]++:i.imgErrorClock[o.imgUrl]=1,o.loadNum++,o.type==t.loadType&&(i.pushErrorLog(o),i.addLogInfo(o,"err")),i.imgErrorClock[o.imgUrl]<4&&o.loadNum<4?(o.type=3,o.suffixUrl!=o.finalUrl&&(o.domain=i.getImageDomain(o.suffixUrl),o.finalUrl=o.suffixUrl),i.loadingImage(e,o)):i.pushErrorLog(o)})}},insertImg:function(e,o,i){this.addLogInfo(i,"succ"),o.hasClass("J_loading")&&(o.removeClass("J_loading").addClass("J_loading_success"),"background"==i.insert?(o[0].style.backgroundImage="url("+e.src+")",o[0].style.backgroundRepeat="no-repeat"):o.append('<img class="J_dynamic_img fill_img" src="'+e.src+'" alt=""/>'))},getImageDomain:function(e){try{var o=/^([\w\d]*)\/\/([\w\d\-_]+(?:\.[\w\d\-_]+)*)/,i=e.match(o);if(i&&i.length>2)return i[2]}catch(t){}return""},addLogInfo:function(e,o){var i=this;i.logInfo.num++,i.logInfo[o]++,e.domain&&(i.logInfo.domainInfo[e.domain]||(i.logInfo.domainInfo[e.domain]={succ:0,err:0,num:0}),i.logInfo.domainInfo[e.domain].num++,i.logInfo.domainInfo[e.domain][o]++),i.logInfo.num>=30&&i.pubInfoLog()},pubInfoLog:function(){var e=this;if(clearTimeout(e.logTimer),e.logInfo.num>0){if(e.logInfo.type=t.loadType,_imgLog("\u89e6\u53d1\u5168\u5c40\u56fe\u7247\u52a0\u8f7d\u4fe1\u606f\u6253\u70b9\uff0c\u6253\u70b9\u683c\u5f0f\u5982\u4e0b"),_imgLog(e.logInfo),window.logger&&logger.log)try{logger.log("016010004",e.logInfo)}catch(o){_imgLog(o)}e.logInfo={type:t.loadType,protocol:t.protocol,num:0,succ:0,err:0,domainInfo:{}}}e.logTimer=setTimeout(e.pubInfoLog.bind(e),3e3)},pushErrorLog:function(e){if(window._trace&&_trace.sendMsg){var o=$.extend({},e,{url:e.finalUrl,_author:"lanpang,yanchen,suling"});_trace.sendMsg(new Error(e.domain),o),_imgLog("\u89e6\u53d1\u56fe\u7247\u52a0\u8f7d\u9519\u8bef\u6253\u70b9\uff0c\u6253\u70b9\u683c\u5f0f\u5982\u4e0b"),_imgLog(o)}},destroy:function(){},defaults:{objsClassName:"J_dynamic_imagebox",showDistance:0}},M.DynamicImage=n;var a=M.dynamicImage;a||(a=new n({showDistance:$(window).height()}),M.dynamicImage=a),MoGu.dynamicImage=M.dynamicImage,e.exports=a},function(e,o){window.MoGu=window.MoGu||{},window.M=window.M||{},window._imgLog=function(e){window.location.href.indexOf("isLog=true")>-1&&window.console&&console.log&&console.log(e)};var i=navigator.userAgent;M.isUseWebp=!1;var t={imgKeyArr:["80","100","160","180","200","240","280","300","320","360","400","440","480","520","540","560","600","640"],imgKeyMap:{80:{"1:1":"80x80","7:9":"80x103","3:4":"80x107","2:3":"80x120",999:"80x999"},100:{"1:1":"100x100","7:9":"100x129","3:4":"100x134","2:3":"100x150",999:"100x999"},160:{"1:1":"160x160","7:9":"160x206","3:4":"160x214","2:3":"160x240",999:"160x999"},180:{"1:1":"180x180","7:9":"180x232","3:4":"180x240","2:3":"180x270",999:"180x999"},200:{"1:1":"200x200","7:9":"200x258","3:4":"200x268","2:3":"200x300",999:"200x999"},240:{"1:1":"240x240","7:9":"240x308","3:4":"240x320","2:3":"240x360",999:"240x999"},280:{"1:1":"280x280","7:9":"280x360","3:4":"280x374","2:3":"280x420",999:"280x999"},300:{"1:1":"300x300","7:9":"300x386","3:4":"300x400","2:3":"300x450",999:"300x999"},320:{"1:1":"320x320","7:9":"320x412","3:4":"320x428","2:3":"320x480",999:"320x999"},360:{"1:1":"360x360","7:9":"360x463","3:4":"360x480","2:3":"360x540",999:"360x999"},400:{"1:1":"400x400","7:9":"400x515","3:4":"400x534","2:3":"400x600",999:"400x999"},440:{"1:1":"440x440","7:9":"440x566","3:4":"440x587","2:3":"440x660",999:"440x999"},480:{"1:1":"480x480","7:9":"480x618","3:4":"480x640","2:3":"480x720",999:"480x999"},520:{"1:1":"520x520","7:9":"520x670","3:4":"520x694","2:3":"520x780",999:"520x999"},540:{"1:1":"540x540","7:9":"540x695","3:4":"540x720","2:3":"540x810",999:"540x999"},560:{"1:1":"560x560","7:9":"560x720","3:4":"560x747","2:3":"560x840",999:"560x999"},600:{"1:1":"600x600","7:9":"600x772","3:4":"600x800","2:3":"600x900",999:"600x999"},640:{"1:1":"640x640","7:9":"640x824","3:4":"640x854","2:3":"640x960",999:"640x999"}},imgQuality:70,dprDefMaxWidth:640,dprDefRatio:"999",defCode:"999x999.v1c0",clientHeight:null,clientWidth:null,dpr:null,dprClentWidth:null,loadType:1,protocol:"http",domainArr:[],domainHistoryCache:{},domainIndex:0,domainLength:0,isMoGuIosWk:!1};t.ua=i,t.android=i.match(/(Android);?[\s\/]+([\d.]+)?/),t.ios=i.match(/(iPad).*OS\s([\d_]+)/)||i.match(/(iPod)(.*OS\s([\d_]+))?/)||i.match(/(iPhone\sOS)\s([\d_]+)/),t.wp=i.match(/Windows Phone ([\d.]+)/),t.is_mobile=t.android||t.ios||t.wp,t.is_ie_old=i.indexOf("MSIE")>0,t.init=function(){var e=this;e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.addEventListener&&window.addEventListener("resize",function(){e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},!1),e.dpr=window.devicePixelRatio>=1?window.devicePixelRatio:1,e.dprClentWidth=e.clientWidth*e.dpr,window.location.href.split&&(e.protocol=window.location.href.split("://")[0]),e.checkSupportWebp(),e.checkNeedCdnBanlance(),e.is_mobile&&e.getAppInfo()},t.setWebpFlag=function(e){M.isUseWebp=!!e},t.checkSupportWebp=function(){var e=this,o=new Image;o.onload=function(){e.setWebpFlag(!0)},o.onerror=function(){e.ios&&"undefined"!=typeof localStorage?(e.setWebpFlag("true"===localStorage.getItem("isWebpEnable")),e.isMoGuIosWk="true"===localStorage.getItem("isMoGuIosWk")):(e.setWebpFlag(!1),e.isMoGuIosWk=!1)},o.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="},t.checkNeedCdnBanlance=function(){var e=this;if(!e.domainLength)try{if(window.ImgCdnBanlance&&ImgCdnBanlance instanceof Array&&ImgCdnBanlance.length>0){for(var o=ImgCdnBanlance.length,i=0;i<o;i++){var t=ImgCdnBanlance[i];if(t.domain&&t.domain.indexOf("mogucdn")>0&&t.weight&&parseInt(t.weight)>0)for(var n=parseInt(t.weight),a=0;a<n;a++)e.domainArr.push(t.domain),e.domainLength++}e.domainLength&&(e.loadType=2)}}catch(r){e.loadType=1}},t.getCdnDomain=function(){var e=this;e.domainIndex>=e.domainLength&&(e.domainIndex=0);var o=e.domainArr[e.domainIndex];return e.domainIndex++,o},t.getCdnBanlanceUrl=function(e){var o=this;if(2!=o.loadType||!e||"string"!=typeof e)return e;if(o.domainHistoryCache[e])return o.domainHistoryCache[e];var i=e.split("mogucdn.com/");if(2!=i.length)return e;var t=o.getCdnDomain();if(t){i[0]="//"+t;var n=i.join("/");return o.domainHistoryCache[e]=n,n}return e},t.getDefSuffix=function(e,o){var i=this,t="";if(i.android||i.ios||i.wp){var n=i.dprClentWidth;n<=375?t="375x9999.v1c7E":375<n&&n<=750?t="750x9999.v1c7E":750<n&&(t="1125x9999.v1c7E")}else t=i.defCode;return i.getCodeSuffix(e,t,o)},t.getWidthSuffix=function(e,o,i,t){var n=this;void 0===t&&(t=!0);var a=n.defCode,r=t?n.dpr:1,d=parseInt(o)*r;return d&&d>0&&d<1950&&(d+=50,a=100*Math.ceil(d/100)+"x9999.v1c7E"),n.getCodeSuffix(e,a,i)},t.getGoodsRatioSuffix=function(e,o,i,t,n){var a=this;void 0===n&&(n=!0);var r=a.defCode,d="",l=".v1cAC",s=n?a.dpr:1;switch(i){case"1:1":case"7:9":case"3:4":case"2:3":d=i;break;default:d=a.dprDefRatio,l=".v1c96"}var g=parseInt(o)*s;(!g||g<0||g>a.dprDefMaxWidth)&&(g=a.dprDefMaxWidth);for(var c=0;c<a.imgKeyArr.length;c++){var f=a.imgKeyArr[c];if(g<=f||f==a.dprDefMaxWidth){r=a.imgKeyMap[f][d]+l;break}}return a.getCodeSuffix(e,r,t)},t.getHalfSuffix=function(e,o){var i=this,t="";return i.dpr<2?(t="50000x50000.v1c7E",e=i.getCodeSuffix(e,t,o)):e=i.getDefSuffix(e,o),e},t.getCodeSuffix=function(e,o,i){var t=this;if(!e||!o||"no"==o||e.indexOf(".webp")>0||e.indexOf(".gif")>0)return e;if(-1===e.indexOf("mogucdn"))return e;if(e.indexOf(".jpg")<0&&e.indexOf(".png")<0)return e;if(e.indexOf(".jpg")>0&&e.indexOf(".png")>0)return e;e.indexOf("https:")>=0&&(e=e.split("https:")[1]),e.indexOf("http:")>=0&&(e=e.split("http:")[1]);var n=e,a="",r=e.split(".");if("jpg"==r[r.length-1])a="jpg";else{if("png"!=r[r.length-1])return e;a="png"}var o="_"+o,d="."+t.imgQuality+".";if(e.indexOf(".png_")<0&&e.indexOf(".jpg_")<0&&e.indexOf("."+a)==e.length-4&&(e=e+o+d+a),M.isUseWebp&&!1!==i){if(e.indexOf("."+a+"_")>0){var l=e.split(".");l[l.length-1]==a&&(l[l.length-1]="webp",e=l.join("."))}}else if("png"==a)return n;return e},t.getAppInfo=function(){var e=this;"undefined"!=typeof hdp&&hdp["do"]?(hdp["do"]("mgj.device.getInfo").then(function(o){o&&o.networkType&&4!=o.networkType&&5!=o.networkType&&(e.imgQuality=50)})["catch"](function(e){}),e.ios&&"undefined"!=typeof localStorage&&hdp["do"]("hybrid.settings.getWebpEnabled").then(function(o){var i=e.ua.toLocaleLowerCase().indexOf("wkwebview")>-1;o?(localStorage.setItem("isWebpEnable",!0),localStorage.setItem("isMoGuIosWk",!1)):(localStorage.setItem("isWebpEnable",!1),hdp["do"]("mgj.device.getInfo").then(function(e){e.appVersion>=943&&i?localStorage.setItem("isMoGuIosWk",!0):localStorage.setItem("isMoGuIosWk",!1)})["catch"](function(e){localStorage.setItem("isMoGuIosWk",!1)}))})["catch"](function(){localStorage.setItem("isWebpEnable",!1),localStorage.setItem("isMoGuIosWk",!1)})):"undefined"!=typeof document&&document.addEventListener&&document.addEventListener("deviceready",function(){window.mgj&&mgj.device&&mgj.device.getInfo&&mgj.device.getInfo(function(o){o&&o.networkType&&4!=o.networkType&&5!=o.networkType&&(e.imgQuality=50)}),e.ios&&"undefined"!=typeof localStorage&&window.hybrid&&hybrid.settings&&hybrid.settings.getWebpEnabled&&hybrid.settings.getWebpEnabled(function(e){localStorage.setItem("isWebpEnable",e)},function(){localStorage.setItem("isWebpEnable",!1)})},function(){})},M.ImgUrlTool||(t.init(),M.ImgUrlTool=t),MoGu.ImgUrlTool=M.ImgUrlTool,e.exports=M.ImgUrlTool}]);